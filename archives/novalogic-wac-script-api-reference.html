<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><link rel="manifest" href="/manifest.json">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">



  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="///////////////////WAC HELP 1（MED）///////////////////;wac file - nestable IF/THEN/ELSE/ENDIF boolean logic;;WAC post directory w:\vp\program\wac - commands listed in GAME.WAC;WAC debug screen under sh">
<meta name="keywords" content="三角洲特种部队,联合行动,地图制作">
<meta property="og:type" content="article">
<meta property="og:title" content="三角洲特种部队 WAC 脚本帮助">
<meta property="og:url" content="https://hexo.bangz.me/archives/novalogic-wac-script-api-reference.html">
<meta property="og:site_name" content="BangZ&#39;s 梦工厂">
<meta property="og:description" content="///////////////////WAC HELP 1（MED）///////////////////;wac file - nestable IF/THEN/ELSE/ENDIF boolean logic;;WAC post directory w:\vp\program\wac - commands listed in GAME.WAC;WAC debug screen under sh">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2022-12-22T04:13:36.670Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="三角洲特种部队 WAC 脚本帮助">
<meta name="twitter:description" content="///////////////////WAC HELP 1（MED）///////////////////;wac file - nestable IF/THEN/ELSE/ENDIF boolean logic;;WAC post directory w:\vp\program\wac - commands listed in GAME.WAC;WAC debug screen under sh">



  <link rel="alternate" href="/atom.xml" title="BangZ's 梦工厂" type="application/atom+xml">




  <link rel="canonical" href="https://hexo.bangz.me/archives/novalogic-wac-script-api-reference.html">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>三角洲特种部队 WAC 脚本帮助 | BangZ's 梦工厂</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-78277428-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-78277428-2');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BangZ's 梦工厂</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">FutureTech Research Center</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives menu-item-active">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-pdf">
    <a href="/pdfs/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-file"></i> <br>PDF</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hexo.bangz.me/archives/novalogic-wac-script-api-reference.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BangZ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/icons/icon-128x128.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BangZ's 梦工厂">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">三角洲特种部队 WAC 脚本帮助
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2022-12-22 11:58:29 / 修改时间：12:13:36" itemprop="dateCreated datePublished" datetime="2022-12-22T11:58:29+08:00">2022-12-22</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/游戏/" itemprop="url" rel="index"><span itemprop="name">游戏</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/novalogic-wac-script-api-reference.html" class="leancloud_visitors" data-flag-title="三角洲特种部队 WAC 脚本帮助">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数：</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><br><br>///////////////////WAC HELP 1（MED）///////////////////<br><br><br><br>;wac file - nestable IF/THEN/ELSE/ENDIF boolean logic<br><br>;<br><br>;WAC post directory w:\vp\program\wac - commands listed in GAME.WAC<br><br>;WAC debug screen under shift-F12, numlock arrows to select and scroll<br><br>;<br><br>;GLOBAL WAC is GAME.WAC (executed first)<br><br>;<br><br>;MISSION WAC is misname.WAC (executed second)<br><br>;<br><br>;Left to Right order of operations<br><br>;<br><br><a id="more"></a><br>;—WAC LANGUAGE COMMANDS<br><br>;nestable flow control<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF THEN ELSE ENDIF<br><br>;boolean logic<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND OR XOR<br><br>;function modifier<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NOT<br><br>;comments<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; /<br><br>;<br><br>;Syntax - parens optional, line returns and tabbing optional<br><br>;<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if trigger1(params) and trigger2(params) then<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; event1(params)<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; event2(params)<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif<br><br>;<br><br>;Example<br><br>;<br><br>;&nbsp;&nbsp; I want to open doors in group 12 the first time I enter area 1501<br><br>;<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if location(1501) and never() then<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; opendoors(12)<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif<br><br>;<br><br><br><br>;—VARIABLES &amp; IMMEDIATES (a variable can always be used as an immediate)<br><br>;”STRING”&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; immediate string value<br><br>;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; immediate decimal number<br><br>;anim_move&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; immediate equate from ADM file<br><br>;ammo_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; immediate ammo name (ex. ammo2tgt ammo_rocket 1)<br><br>;fx_fxname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; immediate effect name (ex. fxrain fx_effect_lightning)<br><br>;effect_name&nbsp;&nbsp;&nbsp; immediate effect name (ex. fxrain effect_lightning)<br><br>;SS_SoundSet&nbsp;&nbsp;&nbsp; immediate soundset name<br><br>;sSoundSet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; immediate soundset name (alternate syntax)<br><br>;face_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; immediate face name (ex. ssnface 45 face_happy)<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_normal<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_happy<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_sad<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_smirk<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_angry<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_surprise<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_disgust<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_fear<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; face_aggressive<br><br>;<br><br>;V#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V0 to v511 game variables, cleared at start of mission<br><br>;G#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; G0 to vG11 global variables, not cleared during link<br><br>;M#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Music Script Variable<br><br>;result&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; current return/accumulator value (mostly for debug)<br><br>;ticks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; number of seconds into game<br><br>;GameOver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true is game is over<br><br>;Win&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if blue team won<br><br>;Lose&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if red team won<br><br>;wind&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; used by SWING, FLICKER, and particle wind2<br><br>;health&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; player’s health/hp value<br><br>;mana&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; player’s mana<br><br>;neartype&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the type of the nearest enemy (from items.def dialog)<br><br>;neardist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the distance to the nearest organic<br><br>;nearmove&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the anim move of the nearest organic (setable)<br><br>;nearid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the unique dcb/id of the nearest organic<br><br>;neartid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the id of the organic’s target or 0 if no target<br><br>;nearblind<br><br>;nearflying<br><br>;nearguard<br><br>;nearSSN<br><br>;nearWP<br><br>;nearGroup<br><br>;nearHP<br><br><br><br>;deadDist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the nearest corpse info<br><br>;DdeadType<br><br>;ddeadSSN<br><br>;DdeadMove<br><br>;DdeadGroup<br><br><br><br>;bbadDist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the nearest badguy info (team 2)<br><br>;bbadType<br><br>;bbadSSN<br><br>;bbadMove<br><br>;bbadGroup<br><br><br><br><br><br><br><br><br><br>;—TRIGGERS (# param can be number or variable)<br><br>;never()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if current IF has never fired, for one time only events<br><br>;elapse(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if past # seconds since current IF activated<br><br>;<br><br>;-IF Link (these commands fire once only for every fire of linked IF)<br><br>;previous&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if previous (same nesting level) IF fired<br><br>;chain(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if previous (same nesting level) IF fired # seconds ago<br><br>;link(#1,#2)&nbsp;&nbsp;&nbsp; true if IF #1 away from current IF fired #2 seconds ago<br><br>;<br><br>;-Game Time (seconds of WAC script running)<br><br>;past(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if past # seconds into game, keeps firing after #<br><br>;before(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if before # seconds into game.&nbsp; keeps firing before #<br><br>;ontick(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if ontick #, only fires once<br><br>;<br><br>;random(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; randomly true 1 in # times, sets RND for additional tests<br><br>;location(#)&nbsp;&nbsp;&nbsp; true if you are at that music location<br><br>;area(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if within MED area without checking vertical<br><br>;area3D(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if within MED 3D area<br><br>;outside()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if you are not in a blink box<br><br>;waveready()&nbsp;&nbsp;&nbsp; true if no talking going on<br><br>;groupdead(#)&nbsp;&nbsp; true if entire group is dead<br><br>;groupalive(#)&nbsp; true if anyone in group is alive<br><br>;ssnwounded(#)&nbsp; true if ssn is wounded<br><br>;ssndead(#)&nbsp;&nbsp;&nbsp;&nbsp; true if ssn is dead<br><br>;ssnalive(#)&nbsp;&nbsp;&nbsp; true if ssn is alive<br><br>;ssnride(#)&nbsp;&nbsp;&nbsp;&nbsp; true if any organic is standing on SSN<br><br>;ssnonssn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if SSN is standing on SSN<br><br>;ssnnearssn&nbsp;&nbsp;&nbsp;&nbsp; true if SSN is near SSN within dist<br><br>;ssnlosssn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if SSN is near SSN within dist and has LOS<br><br>;ssnseesssn&nbsp;&nbsp;&nbsp;&nbsp; true if SSN is near SSN within dist and can see it<br><br>;meride(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if player is standing on SSN<br><br>;meattached(#)&nbsp; true if player is attached to SSN<br><br>;medrive(#)&nbsp;&nbsp;&nbsp;&nbsp; true if player is driving SSN<br><br>;meongun(#)&nbsp;&nbsp;&nbsp;&nbsp; true if player is on emplaced weapon on SSN<br><br>;ssnloc(#,#)&nbsp;&nbsp;&nbsp; true if vehicle or person is in music location<br><br>;ssnarea(#,#)&nbsp;&nbsp; true if vehicle or person is in 2D med area #<br><br>;ssnarea3D(#,#) true if vehicle or person is in 3D med area #<br><br>;dooropen(#)&nbsp;&nbsp;&nbsp; true if group # has door open<br><br>;event(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if med event has triggered<br><br>;squadevent(#)&nbsp; true if squad event is in que, sets squadSSN to talker<br><br>;playerfired(#) true if player has pressed fire and has slot # selected<br><br>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1=knife, 2=small arm, 3=main weapon, ect..<br><br>;<br><br>;—VARIABLE COMPARE<br><br>;eq(#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #==#<br><br>;ne(#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #!=#<br><br>;lt(#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #&lt;#<br><br>;gt(#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #&gt;#<br><br>;le(#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #&lt;=#<br><br>;ge(#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #&gt;=#<br><br>;true(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #!=0<br><br>;false(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; true if #==0<br><br>;<br><br>;—VARIABLE MODIFY<br><br>;set(var,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set var to #<br><br>;add(var,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; add # to var<br><br>;sub(var,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; subtract # from var, clamp at 0<br><br>;inc(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; add 1 to var<br><br>;dec(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; subtract 1 from var, clamp at 0<br><br><br><br>;—EVENTS (# param can be number or variable)<br><br>;squadclear&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clears squadevent selected by squadevent(#)<br><br>;forceanim(anim)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; forces all organics into anim slot (debug only)<br><br>;report(“text”)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pop-up debug report window<br><br>;report#(“text”,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pop-up debug report window with number<br><br>;text(“text”)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; output text to chat - right side<br><br>;text#(“text”,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; output text to chat w/# - right side<br><br>;consol(“text”)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; output text to consol - left side<br><br>;consol#(“text”,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; output text to consol w/# - left side<br><br>;<br><br>;flash&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; produce a flash of lightning &amp; thunder<br><br>;farflash&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; produce a far away flash of lightning &amp; thunder<br><br>;quake(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; earthquake for # 10th of a seconds<br><br>;<br><br>;colorfade(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; seconds for color to transition (zero is normal)<br><br>;sun(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets sun rgb&nbsp;&nbsp;&nbsp; ENV override<br><br>;sky(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets sky rgb<br><br>;ground(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets ground rgb<br><br>;ceiling(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets ceiling rgb<br><br>;floor(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets floor rgb (inside ground)<br><br>;lightning(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets the color of the lightning<br><br>;cloud(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets the cloud color<br><br>;gain(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets the brightness of the whole scene<br><br>;<br><br>;fogcolor(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set fogcolor to R,G,B, changes at color fade rate<br><br>;fog(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; same as fogcolor<br><br>;skyfogcolor(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp; set skyfogcolor to R,G,B<br><br>;skyfog(#,#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; same as skyfogcolor<br><br>;fogtype(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set fog type 0=fog, 1=haze, 2=haze wall, 3=fog wall<br><br>;fogdist(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets fogdist to # meters<br><br>;movefog(#,#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; move fogdist to # meters over # seconds<br><br>;skyspeed(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets the sky movement speed<br><br>;skyheight(#)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sets the height of the sky<br><br>;<br><br>;sound(sSSNAME, dist, head)&nbsp; plays soundset at distance(meters) and heading(bangle)<br><br>;<br><br>;nearwave(“wave.wav”, dist) plays wave file from the mouth of the nearest enemy with max dist to be heard<br><br>;nearanim(anim_move)&nbsp;&nbsp;&nbsp; sets the nearest enemy to ADM move slot<br><br>;<br><br>;SSNwave(ssn, “wave.wav”, dist) plays wave file from the mouth of the ssn with max dist to be heard<br><br>;wave(“wave.wav”, dist) plays wave file from mouth of player<br><br>;SSNanim(ssn, anim_move)&nbsp;&nbsp;&nbsp; sets the ssn to ADM move slot<br><br>;SSNradio(ssn, “wave.wav”)&nbsp; sets the ssn to talk on radio<br><br>;<br><br>;SSNmax(ssn, maxengage) set max engage distance<br><br>;SSNmin(ssn, minengage) set min engage distance<br><br>;SSNatt(ssn, maxattack) set max attack distance<br><br>;SSNSpawn(ssn, spawn count) set the spawn count, 0=don’t respawn<br><br>;GroupMax(group, maxengage) set max engage distance<br><br>;GroupMin(group, minengage) set min engage distance<br><br>;GroupAtt(group, maxattack) set max attack distance<br><br>;GroupSpawn(group, spawn count) set the spawn count, 0=don’t respawn<br><br>;remove(grp)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remove group # without a trace<br><br>;kill(grp)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kill group #<br><br>;removeSSN(ssn)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remove SSN # without a trace<br><br>;killSSN(ssn)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kill SSN #<br><br>;teleport(grp,tgt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; teleport group # to target #<br><br>;telessn(ssn, tgt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; teleport SSN # to target #<br><br>;targetfx(tgt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create med particle fx at target #<br><br>;sound2tgt(ss,tgt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create ssoundset at target # (ex. sound2tgt sSoundSet 1)<br><br>;ss2ssn(ss,ssn)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create ssoundset at center of ssn<br><br>;ammo2tgt(ammo,tgt)&nbsp;&nbsp;&nbsp;&nbsp; create ammo # at target # (ex. ammo2tgt ammo_rocket 1)<br><br>;fx2tgt(fx,tgt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create fx # at target # (ex. fx2tgt effect_lightning 1)<br><br>;opendoors(group)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; open doors in group #<br><br>;closedoors(group)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close doors in group #<br><br>;SSNtoWP(ssn, wp)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; redirect SSN to WP list<br><br>;GtoWP(group, wp)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; redirect Group to WP list<br><br>;ammorain(ammo)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rain down ammo # somewhere near player<br><br>;ammoarea(ammo, area)&nbsp;&nbsp; rain down ammo # somewhere inside area #<br><br>;fxrain(fx)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rain down effect # somewhere near player<br><br>;ssncspd(ssn,speed)&nbsp;&nbsp;&nbsp;&nbsp; set ssn to combat speed of #<br><br>;ssnpspd(ssn,speed)&nbsp;&nbsp;&nbsp;&nbsp; set ssn to patrol speed of #<br><br>;ssnuse(ssn)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; snap ssn to emplaced weapon if within 3 meters<br><br>;ssnrelease(ssn)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; remove ssn from emplaced weapon<br><br>;ssn2ssn(ssn, ssn)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; have ssn goto ssn and try to snap to emplaced<br><br>;ssnface(ssn, face)&nbsp;&nbsp;&nbsp;&nbsp; set face expression of ssn<br><br>;ssnguard(ssn, #)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set ssn to guard 1=ON, 0=Off<br><br>;ssnturn(ssn, heading)&nbsp; turn ssn to heading 0-360<br><br>;ssnhp(ssn, hp)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set ssn’s hitpoints to hp<br><br>;blockfire(wpnkey, #)&nbsp;&nbsp; blockfiring of weapons under key, 0=fire, 1=block<br><br><br><br>///////////////////WAC HELP 2（NILE）///////////////////<br><br><br><br>//PLOOP -&gt; Real Player loop<br><br><br><br>//- PLOOP actions(player) END<br><br><br><br>//CODEPLOOP<br><br>//if condition<br><br>//actions(player)<br><br>//end condition<br><br>//END<br><br><br><br><br><br>//—————————————————<br><br><br><br>//GLOOP -&gt; Named Group Loop<br><br><br><br>//don’t use group commands !<br><br><br><br>//- GLOOP group actions(item) END<br><br><br><br>//CODEGLOOP group<br><br>//if condition<br><br>//actions(item)<br><br>//end condition<br><br>//END<br><br><br><br><br><br>//——————————————————<br><br><br><br>//ENTER -&gt; to handle like ‘and never()’, but fire again was con. false<br><br><br><br>//CODEIF trigger ENTER // triggers on first true<br><br>//actions<br><br>//ENDIF<br><br><br><br><br><br>//——————————————————<br><br><br><br>//LEAVE -&gt; fired if condition no more true<br><br><br><br>//CODEIF trigger LEAVE // triggers after last true<br><br>//actions<br><br>//ENDIF<br><br><br><br><br><br>//——————————————————-<br><br><br><br>//IFNAME -&gt; give a condition a Name<br><br><br><br><br><br>//CODEIF [ifname] triggers THEN // optional named if<br><br>//actions<br><br>//ENDIF<br><br><br><br><br><br>//———————————————————<br><br><br><br>// WAC Quick Reference Help File<br><br><br><br>//WAC Flow Control (basic statements)<br><br>// IF triggers THEN actions END<br><br>// IF [ifname] triggers THEN actions END (optional named if)<br><br>// IF triggers THEN actions ELSE actions END<br><br>// IF triggers THEN actions ELSEIF triggers THEN actions END<br><br>// PLOOP actions(player) END<br><br>// GLOOP group actions(item) END<br><br>// DOSEQ actions NEXT actions [NEXT actions..] END<br><br>// DORND actions NEXT actions [NEXT actions..] END<br><br>// IF triggers ENTER actions END (triggers on first true)<br><br>// IF triggers LEAVE actions END (triggers after last true)<br><br><br><br>// WAC Compiler Commands<br><br>// VAR variablename (declares a number variable, shows up on debug screen)<br><br>// CHEAT cheatname (declares a server cheat variable, shows up on debug screen)<br><br>// RUN filename (this includes the text from a file, good from command line)<br><br><br><br>// WAC Logic and Math (tests for inside IF statement)<br><br>// Arithmatics ()+-<em>/^<br><br>// Booleans AND OR NOT &lt; &gt; &lt;= &gt;= == !=<br><br>// Example: IF V1&lt;12 THEN<br><br>// Example: IF V1&lt;12 AND V2&lt;12 THEN<br><br>// Note: this compiles to IF (V1&lt;12) AND (V2&lt;12) THEN<br><br><br><br>// WAC Assignment Var = Value<br><br>// Example: V1 = 12<br><br>// Example: V2 = V2+V3</em>4<br><br>// Note: This compiles to V2+(V3*4)<br><br><br><br>// WAC Triggers (Things to do after IF statement)<br><br><br><br>// elapse (seconds)<br><br>// never ()<br><br>// previous ()<br><br>// chain (seconds)<br><br>// past (seconds)<br><br>// before (seconds)<br><br>// ontick (seconds)<br><br>// groupdead (number)<br><br>// groupalive (number)<br><br>// dooropen (number)<br><br>// SSNcritical (ssn)<br><br>// SSNexists (ssn)<br><br>// SSNdead (ssn)<br><br>// SSNalive (ssn)<br><br>// SSNwounded (ssn)<br><br>// SSNride (ssn)<br><br>// SSNonSSN (ssn, ssn)<br><br>// SSNnearSSN (ssn, ssn, distance)<br><br>// SSNlosSSN (ssn, ssn, distance)<br><br>// SSNseesSSN (ssn, ssn, distance)<br><br>// SSNarea (ssn, area)<br><br>// SSNarea3D (ssn, area)<br><br>// SSNloc (ssn, number)<br><br>// SSNLeadSSN2SSN (ssn, ssn, ssn, distance)<br><br><br><br>// WAC Actions (Things to do after THEN/ENTER/LEAVE statement)<br><br><br><br>// reset (ifname)<br><br>// Gkill (group)<br><br>// Gremove (group)<br><br>// Gsetaccuracy (number, number, number)<br><br>// GtoWP (number, wplist)<br><br>// kill (number)<br><br>// remove (number)<br><br>// teleport (number, target)<br><br>// GroupMin (number, distance)<br><br>// GroupMax (number, distance)<br><br>// GroupAtt (number, distance)<br><br>// GroupSpawn (number, number)<br><br>// GroupHP (number, number)<br><br>// opendoors (number)<br><br>// closedoors (number)<br><br>// text (text)<br><br>// wave (filename)<br><br>// hideSSN (ssn)<br><br>// unhideSSN (ssn)<br><br>// disableSSN (ssn)<br><br>// enableSSN (ssn)<br><br>// holdSSN (ssn)<br><br>// unholdSSN (ssn)<br><br>// setaccuracy (ssn, number, number)<br><br>// SSNtoWP (ssn, wplist)<br><br>// killSSN (ssn)<br><br>// removeSSN (ssn)<br><br>// teleSSN (ssn, target)<br><br>// SSNwave (ssn, filename, distance)<br><br>// SSNradio (ssn, filename)<br><br>// SS2SSN (soundset, ssn)<br><br>// SSNanim (ssn, anim)<br><br>// SSNMin (ssn, distance)<br><br>// SSNMax (ssn, distance)<br><br>// SSNAtt (ssn, distance)<br><br>// SSNSpawn (ssn, number)<br><br>// SSNHP (ssn, number)<br><br>// SSNADDHP (ssn, number)<br><br>// ssn2ssn (ssn, ssn)<br><br>// ssnrelease (ssn)<br><br>// ssnface (ssn, face)<br><br>// ssnturn (ssn, heading)<br><br>// ssnguard (ssn, number)<br><br>// ssnname (ssn, texttoken)<br><br>// ssnpspd (ssn, number)<br><br>// ssncspd (ssn, number)<br><br>// ssnuse (ssn)<br><br>// set (variable, value)<br><br>// add (variable, value)<br><br>// sub (variable, value)<br><br>// inc (variable)<br><br>// dec (variable)<br><br>// store (variable)<br><br>// load (value)<br><br>// TOD (hour)<br><br>// targetfx (target)<br><br>// ammo2tgt (ammo, target)<br><br>// fx2tgt (fx, target)<br><br>// ammoarea (ammo, area)<br><br>// sound2tgt (soundset, target)<br><br>// flash ()<br><br>// farflash ()<br><br>// quake (number)<br><br>// win (number)<br><br>// lose (number)<br><br>// music (number)<br><br>// skyspeed (number)<br><br>// skyheight (number)<br><br>// fogtype (number)<br><br>// fogdist (distance)<br><br>// movefog (distance, seconds)<br><br>// rain (number, seconds)<br><br>// snow (number, seconds)<br><br>// overcast (number, seconds)<br><br>// Help ()<br><br>// text# (text, number)<br><br>// consol (text)<br><br>// consol# (text, number)<br><br><br><br>// WAC Debug Commands (This also contains old stuff)<br><br><br><br>// sound (soundset, distance, heading)<br><br>// forceanim (anim)<br><br>// tele (ssn)<br><br>// fall ()<br><br>// fov (number)<br><br>// squadevent (number)<br><br>// random (number)<br><br>// outside ()<br><br>// location (number)<br><br>// area (area)<br><br>// area3D (area)<br><br>// waveready ()<br><br>// weaponfired (number)<br><br>// event (number)<br><br>// meride (ssn)<br><br>// meattached (ssn)<br><br>// medrive (ssn)<br><br>// meongun (ssn)<br><br>// ammorain (ammo)<br><br>// fxrain (fx)<br><br>// lightning (red, green, blue)<br><br>// face (face)<br><br>// anim (anim)<br><br>// sunfade (number, seconds)<br><br>// gain (red, green, blue)<br><br>// squadclear ()<br><br>// blockfire (number, number)<br><br>// colorfade (number)<br><br>// sun (red, green, blue)<br><br>// sky (red, green, blue)<br><br>// ground (red, green, blue)<br><br>// floor (red, green, blue)<br><br>// ceiling (red, green, blue)<br><br>// cloud (red, green, blue)<br><br>// fogcolor (red, green, blue)<br><br>// fog (red, green, blue)<br><br>// skyfogcolor (red, green, blue)<br><br>// skyfog (red, green, blue)<br><br>// crash (red, green, blue, green)<br><br>// eq (number, number)<br><br>// ne (number, number)<br><br>// lt (number, number)<br><br>// gt (number, number)<br><br>// le (number, number)<br><br>// ge (number, number)<br><br>// true (number)<br><br>// false (number) <br><br><br><br>///////////////////WAC HELP 3///////////////////<br><br>&nbsp;;WAC Text in Color<br><br>;<br><br>;This WAC code was supplied by Bubbachuk~{PG}~<br><br>;<br><br>;Here is a short list of the color codes you can use to change<br><br>;the color of the WAC scripts: The script has to be enclosed<br><br>;between right and left arrows, i.e. &lt;#####&gt; and inserted<br><br>;before the line of text in the consol or text displays, i.e.<br><br>;<br><br>;if never() then<br><br>;consol(“&lt;#####&gt;Insert color code before actual text. Characters”)<br><br>;text(“&lt;#####&gt;in the code count in the character count allowed”)<br><br>;text(“&lt;#####&gt;for each line.”)<br><br>;endif<br><br>;<br><br>;cfff500 or co01 = Yellow<br><br>;co30 = Light Yellow<br><br>;co100 = Dark Yellow<br><br>;cff5000 = Orange<br><br>;cf50000 = Red<br><br>;cf500000 or c300004 = Dark Red<br><br>;c5000 = Dark Green<br><br>;cf500 = Green<br><br>;co99 = Light Blue<br><br>;cff50 = Turquoise<br><br>;cfffff5 = White (Don’t see any reason to use this one)<br><br>;cr953o3 = Gray<br><br>;cffff50 = Tan<br><br>;cf or ca = Black<br><br>;cf50 or cab = Dark Blue<br><br>;cff5 or ca0 = Blue<br><br>;ca0014 = Purple<br><br>;b = Bold Text<br><br>;i = Text with Italics<br><br>;u = will Underline Text <br><br><br><br>///////////////////WAC HELP 4///////////////////<br><br>;Previous()<br><br>;chain(SECONDS)<br><br>;then<br><br>;Elapse(SECONDS)<br><br>;Past(SECONDS)<br><br>;Before(SECONDS)<br><br>;OnTick(SECONDS)<br><br>;night()<br><br>;eq(VAR,NUMBER)<br><br>;ge(VAR,NUMBER)<br><br>;le(VAR,NUMBER)<br><br>;gt(VAR,NUMBER)<br><br>;lt(VAR,NUMBER)<br><br>;eq(VAR,VAR)<br><br>;ge(VAR,VAR)<br><br>;le(VAR,VAR)<br><br>;gt(VAR,VAR)<br><br>;lt(VAR,VAR)<br><br>;ne(VAR,NUMBER)<br><br>;ne(VAR,VAR)<br><br>;true(VAR)<br><br>;false(VAR)<br><br>;groupdead(GROUP)<br><br>;groupalive(GROUP)<br><br>;ssndead(SSN)<br><br>;ssnwounded(SSN)<br><br>;ssnride(SSN)<br><br>;ssnonssn(SSN,SSN)<br><br>;ssnnearssn(SSN,SSN,DISTANCE)<br><br>;ssnlosssn(SSN,SSN,DISTANCE)<br><br>;ssnseesssn(SSN,SSN,DISTANCE)<br><br>;ssnarea3d(SSN,AREA)<br><br>;ssnalive(SSN)<br><br>;NOT ssnalive(SSN)<br><br>;ssnnearssn(SSN,TEXT,DISTANCE)<br><br>;ssnseesssn(SSN,TEXT,DISTANCE)<br><br>;ssncritical(SSN)<br><br>;random(NUMBER)<br><br>;waveready()<br><br>;weaponfired(NUMBER)<br><br>;Player (coop/multiplayer mode) TEXT = HUMANS<br><br>;true(TEXT)<br><br>;false(TEXT)<br><br>;ssnride(SSN)<br><br>;Player (single player mode) TEXT = 10000<br><br>;meride(SSN)<br><br>;meattached(SSN)<br><br>;medrive(SSN)<br><br>;meongun(SSN)<br><br>;ssndead(TEX)<br><br>;ssnwounded(TEXT)<br><br>;ssnonssn(TEXT,SSN)<br><br>;ssnnearssn(TEXT,SSN,DISTANCE)<br><br>;ssnlosssn(TEXT,SSN,DISTANCE)<br><br>;outside()<br><br>;GtoWP(GROUP,WAYPOINTLIST)<br><br>;Gkill(GROUP)<br><br>;Gremove(GROUP)<br><br>;GroupMin(GROUP,DISTANCE)<br><br>;GroupMax(GROUP,DISTANCE)<br><br>;GroupAtt(GROUP,DISTANCE)<br><br>;GroupSpawn(GROUP,NUMBER)<br><br>;GroupHP(GROUP,NUMBER)<br><br>;Gsetaccuracy(GROUP,NUMBER,NUMBER)<br><br>;teleport(GROUP,TARGET)<br><br>;SSNtoWP(SSN,WAYPOINTLIST)<br><br>;KillSSN(SSN)<br><br>;removeSSN(SSN)<br><br>;teleSSN(SSN,TARGET)<br><br>;ssnWave(SSN,TEXT,DISTANCE)<br><br>;ssncspd(SSN,NUMBER)<br><br>;ssnpspd(SSN,NUMBER)<br><br>;SSNanim(SSN,ANIM)<br><br>;SSNMin(SSN,DISTANCE)<br><br>;SSNMax(SSN,DISTANCE)<br><br>;SSNAtt(SSN,DISTANCE)<br><br>;SSNSpawn(SSN,NUMBER)<br><br>;SSNHP(SSN,NUMBER)<br><br>;ssnUse(SSN)<br><br>;ssnRelease(SSN)<br><br>;SSN2SSN(SSN,SSN)<br><br>;ssnface(SSN,FACE)<br><br>;ssnTurn(SSN,HEADING)<br><br>;SSNtoWP(SSN,NUMBER)- Waypoint 123,124,125,126,127<br><br>;hideSSN(SSN)<br><br>;unhideSSN(SSN)<br><br>;enableSSN(SSN)<br><br>;disableSSN(SSN)<br><br>;fov(SSN,NUMBER)<br><br>;ssnguard(SSN,NUMBER)<br><br>;ssnblind(SSN,NUMBER)<br><br>;ssnclimb(SSN,NUMBER)<br><br>;setaccuracy(SSN,NUMBER,NUMBER)<br><br>;holdSSN(SSN)<br><br>;unholdSSN(SSN)<br><br>;SSNLeadSSN2SSN(SSN,SSN,SSN)<br><br>;ssnaddhp(SSN,NUMBER)<br><br>;set(VAR,NUMBER)<br><br>;add(VAR,NUMBER)<br><br>;sub(VAR,NUMBER)<br><br>;inc(VAR)<br><br>;dec(VAR)<br><br>;tod(TIME)<br><br>;ammo2tgt(AMMO,TARGET)<br><br>;fx2tgt(FX,TARGET)<br><br>;ammorain(AMMO)<br><br>;ammoarea(AMMO,AREA)<br><br>;fxrain(FX)&lt;/WAC&gt;<br><br>;sound2tgt(SOUNDSET,TARGET)<br><br>;flash()<br><br>;farflash()<br><br>;quake(SECONDS)<br><br>;fogdist(DISTANCE)<br><br>;win(NUMBER)<br><br>;rain(NUMBER,NUMBER)<br><br>;overcast(NUMBER,NUMBER)<br><br>;Wave(TEXT)<br><br>;fogtype(NUMBER)- Fog Type (0,1,2,3)<br><br>;gain(NUMBER,NUMBER,NUMBER)<br><br>;skyspeed(NUMBER)<br><br>;snow(NUMBER,NUMBER)<br><br>;movefog(DISTANCE,NUMBER)<br><br>;wind(NUMBER,SECONDS<br><br>;floor(NUMBER,NUMBER,NUMBER)<br><br>;ceiling(NUMBER,NUMBER,NUMBER)<br><br>;fog(NUMBER,NUMBER,NUMBER)<br><br>;accuracyspread = (NUMBER)<br><br>;breathtime = (NUMBER)<br><br>;fallmps = (NUMBER)<br><br>;text#(TEXT,VAR)<br><br>;consol(TEXT)<br><br>;consol#(TEXT,VAR)<br><br>;text(TEXT)<br><br>;PLOOP<br><br>;GLOOP<br><br>;<br><br>;<br><br>;1. Previous() - Previous conditional was true.<br><br>;Example:<br><br>;code<br><br>;if never enter<br><br>;consol(“Sending an enemy to stand on a platform”)<br><br>;ssn2ssn(xxxx,xxxxx)<br><br>;endif<br><br>;if previous() and never enter<br><br>;consol(“Once enemy stands on that platform, Will send his buddy to a waypoint!”)<br><br>;SSNtoWP(XXXX,X)<br><br>;endif<br><br>;<br><br>;2. chain() - Previous conditional was true and One seconds have elapsed.<br><br>;Example:<br><br>;code:<br><br>;if past(30) and never enter<br><br>;consol(“Will rain in thirty seconds at 60%!”)<br><br>;rain(60)<br><br>;endif<br><br>;if chain(30) enter<br><br>;consol(“Thirty seconds later dark clouds will form overhead at 90%!”)<br><br>;overcast(90)<br><br>;endif<br><br><br><br>;3. then - Means end of conditional. You can also use enter instead of then. if you choose to use enter replacing then use it throughout the entire wac script your working on. Don’t mismatch then and enter either one or the other.<br><br>;Example:<br><br>;if never() enter<br><br>;consol(“Enemy will follow the closest player!”)<br><br>;ssn2ssn(xxxx,player)<br><br>;endif<br><br>;<br><br>;4. Elapse() - One seconds have elapsed since conditional was last true. Fires continually<br><br>;Example<br><br>;code:<br><br>;if elapse(40) enter<br><br>;consol(“Every forty seconds their will be an explosion!”)<br><br>;killSSN(XXXXX)<br><br>;endif<br><br>;<br><br>;<br><br>;5. past() - At least one seconds since the mission started before this firers.<br><br>;Example<br><br>;CODE:<br><br>;if past(50) and never enter<br><br>;consol(“Your seeing this message because fifty seconds has pass!”)<br><br>;endif<br><br>;<br><br>;<br><br>;6. Before - How many seconds since mission started<br><br>;Example<br><br>;CODE:<br><br>;if Before(3) and OnTick(3) and never enter<br><br>;consol(“Setting up v1 to go to zero reguardless of humans”)<br><br>;set(v1,0)<br><br>;endif<br><br>;if chain(3) enter<br><br>;consol(“Now I Know v1 equals zero because their is humans!”)<br><br>;v1 = = 0<br><br>;endif<br><br>;<br><br>;7. OnTick exactly one seconds since the mission started<br><br>;Example:<br><br>;CODE<br><br>;if OnTick(180) enter<br><br>;consol#(“TIME NOW”,CurTOD)<br><br>;consol#(“Time Update Will Be Every Three minutes”)<br><br>;endif<br><br>;<br><br>;8. night() Night falls between these hours (19:00 - 6:00). Even know I knew this one did not work at the beginning, still wanted to test it anyway. Does not work. You can set-up the time rate and environment file using nile map editor. But<br>the wac script for night does not work. You can use NLH under terrain to change the environment files also. The lowest rate for time change is one hour = 24hour period.<br><br>;<br><br>;9. var = = Num or eq(VAR,NUMBER) First before I give the code below let me explain what is I’m doing here. I’ am setting up a variable this case it’s going to be v1. Next I will set up the number of items I want to keep track of, this case<br>it’s three. Using the VAR to subtract the number of deaths.<br><br>;EXAMPLE:<br><br>;CODE<br><br>;if never enter<br><br>;set(v1,3)<br><br>;endif<br><br>;if eq(v1,0) and never enter<br><br>;consol(“Each time an item is destroyed subtract intil it reaches zero!)<br><br>;endif<br><br>;if ssndead(xxxxx) and never enter<br><br>;dec(v1)<br><br>;endif<br><br>;if ssndead(xxxxx) and never enter<br><br>;dec(v1)<br><br>;endif<br><br>;if ssndead(xxxxx) and never enter<br><br>;;dec(v1)<br><br>;;endif</p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/三角洲特种部队/" rel="tag"># 三角洲特种部队</a>
          
            <a href="/tags/联合行动/" rel="tag"># 联合行动</a>
          
            <a href="/tags/地图制作/" rel="tag"># 地图制作</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/archives/vue-best-ways-to-pass-props-data-in-different-component-relations.html" rel="next" title="Vue 组件间传参最佳实践">
                <i class="fa fa-chevron-left"></i> Vue 组件间传参最佳实践
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/icons/icon-128x128.png" alt="BangZ">
            
              <p class="site-author-name" itemprop="name">BangZ</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">82</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">40</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/istobran" target="_blank" title="GitHub" rel="external nofollow noopener noreferrer"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:i@bangz.me" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BangZ</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io" rel="external nofollow noopener noreferrer">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next" rel="external nofollow noopener noreferrer">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("4MAiIplUcsxIjad83U2IW99g-gzGzoHsz", "nxvNFChEQkVNNMr7yClwBekv");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text(counter.get('time'));
            
            counter.save(null, {
              success: function(counter) {
                
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            
              var newcounter = new Counter();
              /* Set ACL */
              var acl = new AV.ACL();
              acl.setPublicReadAccess(true);
              acl.setPublicWriteAccess(true);
              newcounter.setACL(acl);
              /* End Set ACL */
              newcounter.set("title", title);
              newcounter.set("url", url);
              newcounter.set("time", 1);
              newcounter.save(null, {
                success: function(newcounter) {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
                },
                error: function(newcounter, error) {
                  console.log('Failed to create');
                }
              });
            
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  

  

  

  

  

  

<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1671683491098')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
</html>
